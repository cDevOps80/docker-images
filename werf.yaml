project: kyc-project
configVersion: 1

#deploy:
#  helmRelease: werf-test
#  helmReleaseSlug: false
#  namespace: default
---
#image: web-server
#dockerfile: Dockerfile

image: chaitu1812-web
from: nginx:latest

#ansible:
#  install:
#    - debug:
#        msg: 'Start install'
#    - file:
#        path: /usr/share/nginx/html
#        mode: 0755
#    - file:
#        path: /web
#        state: directory
#        mode: 0755
#    - debug:
#        msg: 'End install'
#


shell:
  beforeInstall:
    - mkdir /web
    - echo "Commands on the Before Install stage" >> /web/index1.html
  install:
    - echo "Commands on the Install stage" >> /web/index2.html
    - echo "Installing ..."  >> /web/index2.html
  beforeSetup:
    - echo "Commands on the Before Setup stage" >> /web/index3.html
  setup:
    - echo "Commands on the Setup stage" >> /web/index4.html



docker:
  WORKDIR: /web
  CMD: ["nginx", "-g", "daemon off;"]
  EXPOSE: '80'
  ENV:
    BUILDER: werf-custom

